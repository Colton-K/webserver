<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Control Lights</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="static/bootstrap-5.0.2-dist/css/bootstrap.css" rel="stylesheet" />
        <link href="static/styles/cover.css" rel="stylesheet" />
        <!-- <link href="static/styles/mainpage.css" rel="stylesheet"/> -->
        <!-- colorings from flask -->
        <style>
            body {
                background-color: {{ color }};
            }
        </style>
    </head>
    <body class="text-center">
        <!-- hostname and port info for sockets -->
        <p id="hostname" hidden>{{ socketHostname }}</p>
        <p id="port" hidden>{{ socketPort }}</p>
        <p id="onColor" hidden>{{ onColor }}</p>
        <p id="offColor" hidden>{{ offColor }}</p>
        <!-- Content -->
        <div class="container mx-auto border rounded-3 m-3 p-3" style="background-color: #ffffff">
            <!-- main tab -->
            <div id="Main" class="tabcontent">
                {% if fanInfo|length > 0 %}
                <!-- Control all fans -->
                <div class="card shadow mb-4">
                    <div class="card-header py-2 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-body">All Fans</h6>
                    </div>
                    <div class="card-body p-2">
                        <div class="row">
                            <div class="col">
                                <form action="switches" method="POST">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-secondary" type="submit" name="light" value="on">On</button>
                                    </div>
                                </form>
                            </div>
                            <div class="col">
                                <form action="switches" method="POST">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-secondary" type="submit" name="light" value="off">Off</button>
                                    </div>
                                </form>
                            </div>
                        </div> 
                    </div>
                </div>
                {% endif %}

                <!-- lightswitch -->
                {% for ls in lightSwitchInfo %}
                <div class="card shadow mb-4">
                    <div class="card-header py-2 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-body">{{ ls[0] }}</h6>
                    </div>
                    <div class="card-body p-2">
                        <div class="row">
                            <div class="col">
                                <form action="switches" method="POST">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-light" type="submit" name="light" value="on" style="background-color: {{ ls[1] }};">On</button>
                                    </div>
                                </form>
                            </div>
                            <div class="col">
                                <form action="switches" method="POST">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-light" type="submit" name="light" value="off" style="background-color: {{ ls[2] }};">Off</button>
                                    </div>
                                </form>
                            </div>
                        </div> 
                    </div>
                </div>
                {% endfor %}

                {% for ls in smartLightInfo %}
                <div class="card shadow mb-4">
                    <div class="card-header py-2 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-body">{{ ls[0] }}</h6>
                    </div>
                    <div class="card-body p-2">
                        <div class="row">
                            <div class="col">
                                <form action="smartLight" method="POST">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-light" type="submit" name="light" value="{{ ls[0] }}:on" style="background-color: {{ ls[1] }};">On</button>
                                    </div>
                                </form>
                            </div>
                            <div class="col">
                                <form action="smartLight" method="POST">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-light" type="submit" name="light" value="{{ ls[0] }}:off" style="background-color: {{ ls[2] }};">Off</button>
                                    </div>
                                </form>
                            </div>
                        </div> 
                    </div>
                </div>
                {% endfor %}
                
                {% for fan in fanInfo %}
                <div class="card shadow mb-4">
                    <div class="card-header py-2 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-body">{{ fan[0] }}</h6>
                    </div>
                    <div class="card-body p-2">
                        <div class="row">
                            <div class="col">
                                <form action="switches" method="POST">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-light" type="submit" name="light" value="on" style="background-color: {{ fan[1] }};">On</button>
                                    </div>
                                </form>
                            </div>
                            <div class="col">
                                <form action="switches" method="POST">
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-light" type="submit" name="light" value="off" style="background-color: {{ fan[2] }};">Off</button>
                                    </div>
                                </form>
                            </div>
                        </div> 
                    </div>
                </div>
                {% endfor %}

                
                {% for rgbStrip in rgbInfo %}
                <div class="card shadow mb-4">
                    <div class="card-header py-2 d-flex flex-row align-items-center justify-content-between">
                        <h6 class="m-0 font-weight-bold text-body">{{ rgbStrip[0] }}</h6>
                        <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                          <input type="radio" class="btn-check" name="btnradio" id="btnbuttons" autocomplete="off" onclick=rgbStripBtnGroup("btnButtons") checked>
                          <label class="btn btn-outline-secondary  py-0" for="btnbuttons">Buttons</label>

                          <input type="radio" class="btn-check" name="btnradio" id="btnsliders" autocomplete="off" onclick=rgbStripBtnGroup("btnSliders")>
                          <label class="btn btn-outline-secondary  py-0" for="btnsliders">Sliders</label>

                          <input type="radio" class="btn-check" name="btnradio" id="btneffects" autocomplete="off" onclick=rgbStripBtnGroup("btnEffects")>
                          <label class="btn btn-outline-secondary  py-0" for="btneffects">Effects</label>
                        </div>
                    </div>
                    <div class="card-body p-1" id="rgbButtons">
                        <div class="row p-1">
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn green" onclick="setHex('#00ff00')" type="button" name="button" value="#00ff00">Green</button>
                                </div>
                            </div>
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn blue" onclick="setHex('#64b5ff')" type="button" name="button" value="#64b5ff">Blue</button>
                                </div>
                            </div>
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn red" onclick="setHex('#ff0000')" type="button" name="button" value="#ff0000">Red</button>
                                </div>
                            </div>
                        </div>

                        <div class="row p-1">
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn purple" onclick="setHex('#8b54ff')" type="button" name="button" value="#8b54ff">Purple</button>
                                </div>
                            </div>
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn white" onclick="setHex('#ffffff')" type="button" name="button" value="#ffffff">White</button>
                                </div>
                            </div>
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn orange" onclick="setHex('#ffa500')" type="button" name="button" value="#ffa500">Orange</button>
                                </div>
                            </div>
                            <form action="button" method="POST">
                            </form>
                        </div>
                        <div class="row">
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn brightnessButton1" id="brightnessButton1" onclick="setBrightness(this.value)" type="button" name="brightness" value="0">0%</button>
                                </div>
                            </div>
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn brightnessButton2" id="brightnessButton2" onclick="setBrightness(this.value)" type="button" name="brightness" value="77">30%</button>
                                </div>
                            </div>
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn brightnessButton3" id="brightnessButton3" onclick="setBrightness(this.value)" type="button" name="brightness" value="153">60%</button>
                                </div>
                            </div>
                            <div class="col p-1">
                                <div class="d-grid gap-2">
                                    <button class="btn brightnessButton4" id="brightnessButton4" onclick="setBrightness(this.value)" type="button" name="brightness" value="255">100%</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card-body p-1" id="rgbSliders">
                        
                        <div class="row text-start">
                            <div class="col-4">
                                <p id="brightness">Brightness: {{ rgbStrip[5] }}</p>
                            </div>
                            <div class="col-8">
                                <!-- <form method="POST" action="brightness"> -->
                                    <input type="range" class="form-range" min="0" max="255" value="{{ brightness }}" name="brightness" oninput="setBrightness(this.value)"/>
                                    <!-- <input type="submit" value="submit" /> -->
                                <!-- </form> -->
                            </div>
                        </div>
                        <div class="row text-start">
                            <div class="col-4">
                                <p id="r">Red: {{ rgbStrip[2] }}</p>
                            </div>
                            <div class="col-8">
                                <!-- <form method="POST" action="sliders"> -->
                                    <input type="range" class="form-range" min="0" max="255" value="{{ r }}" name="r" oninput="setRed(this.value)"/>
                                    <!-- <input type="submit" value="submit" /> -->
                                <!-- </form> -->
                            </div>
                        </div>
                        <div class="row text-start">
                            <div class="col-4">
                                <p id="g">Green: {{ rgbStrip[3] }}</p>
                            </div>
                            <div class="col-8">
                                <!-- <form method="POST" action="sliders"> -->
                                    <input type="range" class="form-range" min="0" max="255" value="{{ g }}" name="g" oninput="setGreen(this.value)"/>
                                    <!-- <input type="submit" value="submit" /> -->
                                <!-- </form> -->
                            </div>
                        </div>
                        <div class="row text-start">
                            <div class="col-4">
                                <p id="b">Blue: {{ rgbStrip[4] }}</p>
                            </div>
                            <div class="col-8">
                                <!-- <form method="POST" action="sliders"> -->
                                    <input type="range" class="form-range" min="0" max="255" value="{{ b }}" name="b" oninput="setBlue(this.value)"/>
                                    <!-- <input type="submit" value="submit" /> -->
                                <!-- </form> -->
                            </div>
                        </div>


                    </div>

                    <div class="card-body p-1" id="rgbEffects">
                        <div class="row">
                            <form action="effects" method="POST">
                                <input type="submit" name="effect" class="btn btn-light" value="fade">
                                <input type="submit" name="effect" class="btn btn-light" value="rgbFade">
                                <input type="submit" name="effect" class="btn btn-light" value="strobe">
                                <input type="submit" name="effect" class="btn btn-light" value="running">
                                <input type="submit" name="effect" class="btn btn-light" value="colorWipe">
                                <input type="submit" name="effect" class="btn btn-light" value="rainbowCycle">
                                <input type="submit" name="effect" class="btn btn-light" value="fire">
                                <input type="submit" name="effect" class="btn btn-light" value="meteorRain">

                                <input type="submit" name="effect" class="btn btn-light" value="none">
                            </form>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>

            <!-- settings Tab -->
            <div id="Settings" class="tabcontent">

            </div>


        <!--- Tab links -->
            <div class="container pt-3 tab">
                <button class="btn tablinks" onclick="openPage(event, 'Main')" id="defaultOpen">Main</button>
                <button class="btn tablinks" onclick="openPage(event, 'Settings')">Settings</button>
            </div>

        </div>
    </body>

    <script src="static/bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
    <script src="static/main.js"></script>
    <!-- to autoshow the main menu -->
    <script>document.getElementById("defaultOpen").click();</script>
    <script>document.getElementById("btnbuttons").click();</script>
</html>
